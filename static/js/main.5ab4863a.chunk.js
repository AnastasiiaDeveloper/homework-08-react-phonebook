(this.webpackJsonptz6=this.webpackJsonptz6||[]).push([[0],{52:function(t,e,n){},53:function(t,e,n){},78:function(t,e,n){},79:function(t,e,n){},83:function(t,e,n){"use strict";n.r(e);var c,a=n(1),r=n(0),o=n(18),s=n.n(o),i=(n(52),n(53),n(8)),u=n(4),l=n(9),b=Object(l.a)((function(t){return t.toolkit.contacts.items}),(function(t){return t})),j=Object(l.a)((function(t){return t.toolkit.contacts.filter}),(function(t){return t})),p=Object(l.a)((function(t){return t.toolkit.contacts.login}),(function(t){return t})),d=Object(l.a)((function(t){return t.toolkit.contacts.keyAuth}),(function(t){return t})),f=Object(l.a)((function(t){return t.toolkit.contacts.dataUser}),(function(t){return t})),O=n(24),h=n(5),m=n.n(h),g=n(12),x=n(17),v=n(43),y=n(44),k=n(21),w=n.n(k),N=function(){function t(){Object(v.a)(this,t)}return Object(y.a)(t,[{key:"getList",value:function(){var t=Object(g.a)(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.a.get("https://goit-phonebook-api.herokuapp.com/contacts",{headers:{"content-type":"application/json",Authorization:e}});case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),console.log("\u0434\u043b\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 \u043d\u0443\u0436\u043d\u043e \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f");case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},{key:"deletCont",value:function(){var t=Object(g.a)(m.a.mark((function t(e,n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.a.delete("https://goit-phonebook-api.herokuapp.com/contacts/".concat(e),{headers:{"content-type":"application/json",Authorization:n}});case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),console.log("\u043e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f");case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"addPost",value:function(){var t=Object(g.a)(m.a.mark((function t(e,n,c){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.a.post("https://goit-phonebook-api.herokuapp.com/contacts",{name:e,number:n},{headers:{"Content-Type":"application/json",Authorization:c}});case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),console.log("new post add err");case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n,c){return t.apply(this,arguments)}}()},{key:"signUp",value:function(){var t=Object(g.a)(m.a.mark((function t(e,n,c){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.a.post("https://goit-phonebook-api.herokuapp.com/users/signup",{name:e,email:c,password:n});case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),console.log("\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u043b\u043e\u0433\u0438\u043d\u043e\u043c ".concat(e," \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0432 \u0431\u0430\u0437\u0435 "));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n,c){return t.apply(this,arguments)}}()},{key:"logIn",value:function(){var t=Object(g.a)(m.a.mark((function t(e,n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.a.post("https://goit-phonebook-api.herokuapp.com/users/login",{email:e,password:n});case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),console.log("\u043d\u043e\u0432\u044b\u0439 \u044e\u0437\u0435\u0440 \u043d\u0435\u0431\u044b\u043b auth");case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n){return t.apply(this,arguments)}}()}]),t}(),S=Object(x.b)("ACTION_DATA",(function(t){return{payload:{data:t}}})),C=Object(x.b)("LOG_OUT"),L=Object(x.b)("login",(function(t){return{payload:{req:t}}})),T=Object(x.b)("FILTER",(function(t){return{payload:{find:t}}})),I={contacts:{items:[],filter:"",login:JSON.parse(localStorage.getItem("login"))||!1,keyAuth:JSON.parse(localStorage.getItem("key"))||"",dataUser:JSON.parse(localStorage.getItem("data"))||null}},A=Object(x.c)(I,(c={},Object(O.a)(c,S,(function(t,e){t.contacts.items=e.payload.data.data})),Object(O.a)(c,L,(function(t,e){200===e.payload.req.status&&(localStorage.setItem("key",JSON.stringify(e.payload.req.data.token)),localStorage.setItem("login","true"),localStorage.setItem("data",JSON.stringify(e.payload.req.data.user)),console.log("action",e),t.contacts.login=!0,t.contacts.keyAuth=e.payload.req.data.token,t.contacts.dataUser=e.payload.req.data.user)})),Object(O.a)(c,T,(function(t,e){t.contacts.filter=e.payload.find})),Object(O.a)(c,C,(function(t){localStorage.setItem("login","false"),t.contacts.login=!1,t.contacts.keyAuth="",t.contacts.dataUser=""})),c)),F=function(){var t=Object(r.useState)(""),e=Object(i.a)(t,2),n=e[0],c=e[1],o=Object(r.useState)(""),s=Object(i.a)(o,2),l=s[0],j=s[1],p=Object(r.useState)(!1),f=Object(i.a)(p,2),O=f[0],h=f[1],x=Object(r.useState)(!1),v=Object(i.a)(x,2),y=v[0],k=v[1],w=Object(r.useState)({a:{opacity:0,position:"absolute",marginTop:"-60px",fontSize:"1.3em",transition:"2s",marginLeft:"500px",background:"red",bordeRadius:"10px",color:"white",padding:"4px"},b:{opacity:1,position:"absolute",marginTop:"-60px",marginLeft:"0px",fontSize:"1.3em",transition:"2s",background:"red",bordeRadius:"10px",color:"white",padding:"4px"}}),C=Object(i.a)(w,1)[0],L=Object(u.c)(b),T=Object(u.c)(d),I=Object(u.b)(),A=Object(r.useCallback)((function(t,e,n){if(""===t.trim()||""===e.trim())k(!0),setTimeout((function(){k(!1)}),3e3);else{(c=n,c.filter((function(e){return e.name===t}))).length>0?(h(!0),setTimeout((function(){h(!1)}),3e3)):I(function(t,e,n){return function(){var c=Object(g.a)(m.a.mark((function c(a){var r;return m.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,(new N).addPost(t,e,n);case 3:return c.next=5,(new N).getList(n);case 5:return r=c.sent,c.abrupt("return",a(S(r)));case 9:c.prev=9,c.t0=c.catch(0),console.log("error add cont");case 12:case"end":return c.stop()}}),c,null,[[0,9]])})));return function(t){return c.apply(this,arguments)}}()}(t,e,T))}var c}),[I]),F=Object(r.useCallback)((function(){I(function(t){return function(){var e=Object(g.a)(m.a.mark((function e(n){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(new N).getList(t);case 3:return c=e.sent,e.abrupt("return",n(S(c)));case 7:e.prev=7,e.t0=e.catch(0),console.log("error get list");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}(T))}),[I]);return Object(r.useEffect)((function(){F()}),[]),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsxs)("p",{style:O?C.b:C.a,children:[" ",n," \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d"]}),Object(a.jsx)("p",{style:y?C.b:C.a,children:" \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f"}),Object(a.jsx)("label",{children:"Name"}),Object(a.jsx)("input",{type:"text",className:"form-control",onChange:function(t){c(t.target.value)},value:n,"aria-describedby":"emailHelp"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Number"}),Object(a.jsx)("input",{type:"number",className:"form-control",onChange:function(t){j(t.target.value)},value:l})]}),Object(a.jsx)("button",{style:{width:"100%"},type:"submit",className:"btn btn-dark",onClick:function(){A(n,l,L)},children:"Add contact"})]})},z=function(){var t=Object(r.useState)(""),e=Object(i.a)(t,2),n=e[0],c=e[1],o=Object(u.b)(),s=Object(r.useCallback)((function(t){o(T(t))}),[]);return Object(r.useEffect)((function(){s(n)}),[n]),Object(a.jsxs)("div",{className:"form-group filtDiv",children:[Object(a.jsx)("label",{children:"Find contacts by name"}),Object(a.jsx)("input",{type:"text",className:"form-control",onChange:function(t){c(t.target.value)},value:n,"aria-describedby":"emailHelp"})]})},E=(n(78),function(){var t=Object(r.useState)({marginLeft:"-400px"}),e=Object(i.a)(t,2),n=e[0],c=e[1],o=Object(r.useState)(!1),s=Object(i.a)(o,2),l=s[0],b=s[1],j=Object(u.c)((function(t){return t.toolkit.contacts.items}));return Object(r.useEffect)((function(){j.length>0?b(!0):b(!1)}),[j]),Object(r.useEffect)((function(){j.length>0&&b(!0),c({marginLeft:"0px",transition:"1s"})}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"phone",children:Object(a.jsx)("p",{style:n,children:"PhoneBook"})}),Object(a.jsx)("div",{className:"mainAdd",children:Object(a.jsx)(F,{})}),l?Object(a.jsx)(z,{}):null]})}),J=n(87),U=n(90),q=n(86),P=n(88),B=n(89),H=(n(79),function(){var t=Object(r.useState)([]),e=Object(i.a)(t,2),n=e[0],c=e[1],o=Object(u.b)(),s=Object(u.c)(b),l=Object(r.useMemo)((function(){return s})),p=Object(u.c)(j),f=Object(u.c)(d),O=Object(r.useCallback)((function(t){o(function(t,e){return function(){var n=Object(g.a)(m.a.mark((function n(c){var a;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(new N).deletCont(t,e);case 3:return n.next=5,(new N).getList(e);case 5:return a=n.sent,n.abrupt("return",c(S(a)));case 9:n.prev=9,n.t0=n.catch(0),console.log("error delet cont");case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(t){return n.apply(this,arguments)}}()}(t,f))}),[o]);Object(r.useEffect)((function(){console.log(l.length),0===l.length?c(l):c(l.slice().sort((function(t,e){return e.id-t.id}))),console.log(l)}),[l]);var h,x=(h=n,""===p?h:h.filter((function(t){return t.name.toLowerCase().indexOf(p.toLowerCase())>-1}))).map((function(t){var e=t.id,n=t.name,c=t.number;return Object(a.jsx)(P.a,{timeout:500,classNames:"item",children:Object(a.jsxs)(J.a.Item,{className:"li",children:[Object(a.jsx)("p",{children:n})," ",Object(a.jsxs)("p",{children:[" ",c]}),Object(a.jsx)(U.a,{className:"remove-btn",variant:"danger",size:"sm",onClick:function(){return function(t){O(t)}(e)},children:"\xd7"})]})},e)}));return 0===n.length?Object(a.jsx)("div",{style:{marginTop:"20px"},children:"\u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}):Object(a.jsx)(q.a,{style:{marginTop:"2rem"},children:Object(a.jsx)(J.a,{style:{marginBottom:"1rem"},children:Object(a.jsx)(B.a,{className:"todo-list",children:x})})})}),D=function(){var t=Object(r.useState)(""),e=Object(i.a)(t,2),n=e[0],c=e[1],o=Object(r.useState)(""),s=Object(i.a)(o,2),l=s[0],b=s[1],j=Object(r.useState)(""),p=Object(i.a)(j,2),d=p[0],f=p[1],O=Object(u.b)(),h=Object(r.useCallback)((function(t,e,n){e.length<8?alert("\u0434\u043b\u0438\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):(O(function(t,e,n){return Object(g.a)(m.a.mark((function c(){var a;return m.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,(new N).signUp(t,e,n);case 3:a=c.sent,console.log("thunk",a),c.next=10;break;case 7:c.prev=7,c.t0=c.catch(0),console.log("error add user");case 10:case"end":return c.stop()}}),c,null,[[0,7]])})))}(t,e,n)),c(""),b(""),f(""),alert("\u0432\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b"))}),[O]);return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"login"}),Object(a.jsx)("input",{type:"text",className:"form-control",onChange:function(t){c(t.target.value)},value:n})]}),Object(a.jsx)("label",{children:"email"}),Object(a.jsx)("input",{type:"text",className:"form-control",onChange:function(t){f(t.target.value)},value:d,"aria-describedby":"emailHelp"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"password"}),Object(a.jsx)("input",{type:"password",className:"form-control",onChange:function(t){b(t.target.value)},value:l,minLength:"8"})]}),Object(a.jsx)("button",{style:{width:"100%"},type:"submit",className:"btn btn-dark",onClick:function(){h(n,l,d)},children:"sign up"})]})},R=function(){var t=Object(r.useState)(""),e=Object(i.a)(t,2),n=e[0],c=e[1],o=Object(r.useState)(""),s=Object(i.a)(o,2),l=s[0],b=s[1],j=Object(u.b)(),p=Object(r.useCallback)((function(t,e){e.length<8?alert("\u0434\u043b\u0438\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):(j(function(t,e){return function(){var n=Object(g.a)(m.a.mark((function n(c){var a;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(new N).logIn(t,e);case 3:return a=n.sent,n.abrupt("return",c(L(a)));case 7:n.prev=7,n.t0=n.catch(0),alert("error login"),console.log("error login");case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}()}(t,e)),c(""),b(""))}),[j]);return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"email"}),Object(a.jsx)("input",{type:"text",className:"form-control",onChange:function(t){c(t.target.value)},value:n,"aria-describedby":"emailHelp"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"password"}),Object(a.jsx)("input",{type:"password",className:"form-control",onChange:function(t){b(t.target.value)},value:l})]}),Object(a.jsx)("button",{style:{width:"100%"},type:"submit",className:"btn btn-dark",onClick:function(){p(n,l)},children:"login"})]})},_=n(6),G=n(23),M=function(t){var e=t.data,n=t.logout;return Object(a.jsxs)("div",{style:{display:"flex",marginTop:"5px",marginLeft:"10px"},children:[" ",Object(a.jsx)("button",{type:"button",className:"btn btn-danger",onClick:n,children:"logout"}),Object(a.jsxs)("p",{style:{marginTop:"5px",marginLeft:"10px"},children:["You are logged in as: ",e.name]})]})};var Y=function(){var t=Object(u.c)(p),e=Object(u.c)(f),n=Object(u.b)(),c=Object(r.useCallback)((function(){window.confirm("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u044b\u0439\u0442\u0438?")&&n(C())}),[n]);return Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)("div",{className:"center",children:[Object(a.jsx)(_.b,{exact:!0,path:"/",children:Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(_.a,{to:"/login"})})}),t?Object(a.jsx)(M,{data:e,logout:c}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(G.b,{to:"/register",activeStyle:{color:"blue"},children:Object(a.jsx)("button",{type:"button",className:"btn btn-primary",children:"sign up"})}),Object(a.jsx)(G.b,{style:{marginLeft:"5px"},to:"/login",activeStyle:{color:"blue"},children:Object(a.jsx)("button",{type:"button",className:"btn btn-success",children:"login"})})]}),Object(a.jsx)(_.b,{exact:!0,path:"/register",children:t?Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(_.a,{to:"/contacts"})}):Object(a.jsx)(D,{})}),Object(a.jsx)(_.b,{exact:!0,path:"/login",children:t?Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(_.a,{to:"/contacts"})}):Object(a.jsx)(R,{})}),Object(a.jsx)(_.b,{exact:!0,path:"/contacts",children:t?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(E,{}),Object(a.jsx)(H,{})]}):Object(a.jsx)(_.a,{to:"/login"})})]})})},K=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,91)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,r=e.getLCP,o=e.getTTFB;n(t),c(t),a(t),r(t),o(t)}))},Q=n(15),V=n(45),W=Object(Q.c)({toolkit:A}),X=Object(x.a)({reducer:W,middleware:Object(x.d)({serializableCheck:!1}).concat([Object(V.createLogger)()])});s.a.render(Object(a.jsx)(u.a,{store:X,children:Object(a.jsx)(G.a,{children:Object(a.jsx)(Y,{})})}),document.getElementById("root")),K()}},[[83,1,2]]]);
//# sourceMappingURL=main.5ab4863a.chunk.js.map